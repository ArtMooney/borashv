import{_ as x}from"./Header-B6zbv5Lr.js";import{o,c as m,g as v,e as s,a as c,B as b,d as p,t as g,u as k,F as y}from"./index-p4md80Im.js";import{I as n}from"./Input-CF_9OJ3T.js";import{_ as M}from"./TextBlock-rl4awofz.js";const F={class:"grid grow grid-cols-1 content-center px-4 py-12 md:px-8"},_={class:"hidden"},q={class:"flex items-start pt-8"},w={key:1},B={class:"mt-4 bg-[#a38373] p-4 text-black"},S={key:2,class:"mt-4 bg-[#a38373] p-4 text-black"},E={name:"Member",data(){return{userName:"Csc9<[zR57f&j7Y+",userPass:"_LJ@L}d;WbJ{6KGb",extraFields:{clientip:"",pageuri:window.location.href,pagename:document.title,amex:""},buttonText:"Skicka",defaultEmailMessage:"Något gick fel när formuläret skulle skickas.",emailSuccessMessage:"Tack för ert meddelande! Vi återkommer till er snart!",emailErrorMessage:"En eller flera emailadresser som ni har angett tycks inte ha ett korrekt format.",emailReg:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,24}))$/,contactForm:!0,successMessage:!1,errorMessage:!1}},async created(){const t=await(await fetch("https://api.ipify.org?format=json")).json();this.extraFields.clientip=t.ip},methods:{async sendForm(a){if(a.target.disabled=!0,this.requiredFields(a.target.form)&&this.emailFormatError(a.target.form)){const e=await(await fetch("/member",{method:"POST",headers:{Authorization:"Basic "+btoa(this.userName+":"+this.userPass)},body:this.formCollector(a.target.form)})).json();if(e==="error")this.errorMessage=!0;else if(e==="ok"){const l=this.buttonText;this.buttonText=a.target.dataset.wait,setTimeout(()=>{this.contactForm=!1,this.successMessage=!0,this.buttonText=l},1500)}}else a.target.disabled=!1},requiredFields(a){const t=a.querySelectorAll("input"),e=a.querySelectorAll("textarea"),l=a.querySelectorAll("select");let i=!0,d=[];for(const r of t)r.required&&(r.value||(i=!1),r.type==="checkbox"&&!r.checked&&(i=!1),r.type==="radio"&&d.push(r.dataset.name));d=[...new Set(d)];for(const r of d){let f=0;for(const u of t)u.type==="radio"&&u.dataset.name===r&&u.checked&&f++;f||(i=!1)}for(const r of e)r.required&&(r.value||(i=!1));for(const r of l)r.required&&(r.value||(i=!1));return i},emailFormatError(a){let t=!1;const e=a.querySelectorAll("input");for(const l of e)l.type==="email"&&this.emailReg.test(l.value)&&(t=!0);if(!t){const l=this.defaultEmailMessage;this.defaultEmailMessage=this.emailErrorMessage,this.errorMessage=!0,setTimeout(()=>{window.addEventListener("click",()=>{this.errorMessage=!1,this.defaultEmailMessage=l},{once:!0})},500)}return t},formCollector(a){let t=new FormData;t.append("form-name",a.name);for(const e of a.querySelectorAll("input"))if(e.type!=="submit")if(e.type==="file"){if(e.files[0])for(const l of e.files)t.append(e.name,l,l.name)}else e.name!=="gdpr-confirm"&&e.name!=="clientip"&&e.name!=="pageuri"&&e.name!=="pagename"&&e.name!=="amex"&&(e.type==="checkbox"||e.type==="radio"?t.append(e.name,e.checked):t.append(e.name,e.value));for(const e of a.querySelectorAll("textarea"))t.append(e.name,e.value);for(const e of a.querySelectorAll("select"))t.append(e.name,e.value);for(const[e,l]of Object.entries(this.extraFields))t.append(e,l);return t}}},T=Object.assign(E,{setup(a){return(t,e)=>(o(),m("div",F,[t.contactForm?(o(),m("form",{key:0,onSubmit:e[0]||(e[0]=v(()=>{},["prevent"])),class:"grid grid-cols-1 gap-4 text-white md:grid-cols-2",name:"member"},[s(n,{name:"firstname",type:"text","placeholder-text":"",required:!0,"label-text":"Förnamn:"}),s(n,{name:"lastname",type:"text","placeholder-text":"",required:!0,"label-text":"Efternamn:"}),s(n,{name:"email",type:"email","placeholder-text":"",required:!0,"label-text":"Email:"}),s(n,{name:"phone",type:"tel","placeholder-text":"",required:!0,"label-text":"Telefon:"}),s(n,{name:"company",type:"text","placeholder-text":"",required:!0,"label-text":"Företag:"}),s(n,{class:"col-span-1 md:col-span-2",name:"message",type:"message","placeholder-text":"",required:!0,"label-text":"Meddelande:"}),c("div",_,[s(n,{name:"clientip",type:"text","placeholder-text":"clientip",required:!1,"label-text":"",value:t.extraFields.clientip},null,8,["value"]),s(n,{name:"pageuri",type:"text","placeholder-text":"pageuri",required:!1,"label-text":"",value:t.extraFields.pageuri},null,8,["value"]),s(n,{name:"pagename",type:"text","placeholder-text":"pagename",required:!1,"label-text":"",value:t.extraFields.pagename},null,8,["value"]),s(n,{name:"amex",type:"text","placeholder-text":"amex",required:!1,"label-text":"",value:t.extraFields.amex},null,8,["value"])]),c("div",q,[s(b,{onClick:t.sendForm,text:t.buttonText,link:"",hash:"",type:"submit","data-wait":"Vänta..."},null,8,["onClick","text"])])],32)):p("",!0),t.successMessage?(o(),m("div",w,[c("div",B,g(t.emailSuccessMessage),1)])):p("",!0),t.errorMessage?(o(),m("div",S,[c("p",null,g(t.defaultEmailMessage),1)])):p("",!0)]))}}),h="/assets/pexels-grizzlybear-421759-DF9pTzTm.jpg",A={name:"BliMedlem",data(){return{textMedlemskap:`
        Att vara medlem kostar endast 50:-/år

        Föreningen är en nödvändighet för Hemvärnet i Borås. Detta gäller särskilt förvaltandet av Hemvärnsgården och hållandet av en kassa
        (ett Hemvärnsförband får inte ha en egen kassa).

        <strong>Vi behöver dig som medlem!
        Bli medlem NU genom att sätta in 50kr på bg:

        5701-4920</strong>

        OBS! glöm inte att ange ditt namn och adress vid inbetalning.
        `}},head:{title:"Bli Medlem i Hemvärnets Förening Borås | Medlemskap",meta:[{name:"keywords",content:"Hemvärnet Borås, medlemskap hemvärnet, hemvärnsförening, hemvärnsgården borås, försvarsförening borås, hemvärnsmedlem"},{name:"robots",content:"index, follow"},{name:"description",content:"Bli medlem i Hemvärnets förening i Borås för endast 50kr/år. Som medlem stödjer du förvaltningen av Hemvärnsgården och föreningens viktiga arbete. Anslut dig till vår gemenskap idag!"},{property:"og:title",content:"Bli Medlem i Hemvärnets Förening Borås"},{property:"og:description",content:"Stöd Hemvärnet i Borås genom medlemskap för endast 50kr/år. Din medlemsavgift bidrar till förvaltning av Hemvärnsgården och föreningens verksamhet."},{property:"og:image",content:h}]}},C=Object.assign(A,{setup(a){return(t,e)=>(o(),m(y,null,[s(x,{image:k(h)},null,8,["image"]),s(M,{title:"Bli Medlem",text:t.textMedlemskap,class:"mx-auto w-full max-w-screen-xl"},null,8,["text"]),s(T,{class:"mx-auto w-full max-w-screen-xl"})],64))}});export{C as default};
